<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/index.css') }}">
    <script src="{{ url_for('static', filename='scripts/index.js') }}"></script>

    <title>PPPP</title>
</head>
<body>
    <div class="col-lg-8 mx-auto p-3 py-md-5">
        <h1>Picnic</h1>
        <div class="panel panel-first">
            <div class="panel-heading"><span class="panel-title">Please select how hard you want the puzzle to be:</h3></div>
            <div class="panel-body">
                <select class="form-select" aria-label="Difficulty selection" onchange="$('#submit_button').attr('difficulty', value)">
                    <option selected>Difficulty Level</option>
                    <option value="0">Easy</option>
                    <option value="1">Medium</option>
                    <option value="2">Hard</option>
                </select>
            </div>
        </div>

        <div class="panel panel-middle">
            <div class="panel-heading"><span class="panel-title">Please select the number of puzzle pieces:</h3></div>
            <div class="panel-body">
                <select class="form-select" aria-label="Difficulty selection" onchange="$('#submit_button').attr('piecescount', value)">
                    <option selected>Puzzle Pieces Count</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
        </div>

        <div class="panel panel-last">
            <div class="panel-body">
                <button type="button" class="btn btn-primary" id="submit_button" onclick="call_puzzle({
                    'difficulty': $('#submit_button').attr('difficulty'),
                    'piecescount': $('#submit_button').attr('piecescount')
                })">Submit</button>
            </div>
        </div>
    </div>
    <div class="col-lg-8 mx-auto p-3 py-md-5">
        <div class="progress">
            <div id="progress" class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>

    <div class="col-lg-8 mx-auto p-3 py-md-5">
        <div class="panel panel-first">
            <div class="panel-heading"><span class="panel-title">Retrieve Puzzle using Puzzle ID</h3></div>
            <div class="panel-body">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-default">Puzzle ID:</span>
                    </div>
                    <input type="text" class="form-control" aria-label="puzzle id" aria-describedby="inputGroup-sizing-default" id="puzzle_id" onkeydown="search(this)">
                  </div>
                    <button type="submit" class="btn btn-primary" onclick="load_puzzle($('#puzzle_id').val())">Submit</button>
            </div>
        </div>
    </div>

    <div class="col-lg-8 mx-auto p-3 py-md-5">
        <div class="panel panel-first">
            <div class="panel-heading"><span class="panel-title">Puzzle:</h3></div>
            <div class="panel-body">
                <p class="text-center" id="name_text"></p>
                <img id="piece_image" src="" alt="STL image" class="img-thumbnail mx-auto d-block">
                <button type="button" class="btn btn-primary" id="save_button" onclick="save_stl()" disabled>Save STL</button>
            </div>
        </div>
    </div>
</body>
</html>